# When adding new food also add to random spawner located in Resources\Prototypes\Entities\Markers\Spawners\Random\Food_Drinks\food_snack.yml
# Base

- type: entity
  parent: FoodBase
  id: FoodSnackBase
  abstract: true
  components:
  - type: Tag
    tags:
      - FoodSnack
  - type: Sprite
    sprite: Objects/Consumable/Food/snacks.rsi
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 30 # Room for extra condiments
        reagents:
        - ReagentId: Nutriment
          Quantity: 10
  - type: Item
    sprite: Objects/Consumable/Food/snacks.rsi
    heldPrefix: packet
    size: Tiny
# Snacks

# "Snacks" means food in a packet. Down the line this stuff can have multiple
# reagents and shit for healing or different effects.

- type: entity
  parent: BaseItem
  id: FoodSnackNutribrick
  name: nutribrick
  description: A carefully synthesized brick designed to contain the highest ratio of nutriment to volume. Tastes like shit.
  components:
  - type: Item
    size: Small
    storedOffset: -1,0
    heldPrefix: nutribrick
  - type: Tag
    tags:
      - FoodSnack
  - type: Sprite
    sprite: Objects/Consumable/Food/snacks.rsi
    state: nutribrick
  - type: SpawnItemsOnUse
    items:
      - id: FoodPacketMRETrash
      - id: FoodSnackNutribrickOpen
    sound:
      path: /Audio/Effects/unwrap.ogg

- type: entity
  parent: FoodSnackBase
  id: FoodSnackNutribrickOpen
  name: nutribrick
  description: A carefully synthesized brick designed to contain the highest ratio of nutriment to volume. Tastes like shit.
  components:
  - type: FlavorProfile
    flavors:
      - nutribrick
  - type: Item
    size: Small
    storedOffset: -1,0
    heldPrefix: nutribrick-open
  - type: Tag
    tags:
      - ReptilianFood
  - type: Sprite
    state: nutribrick-open
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 25
        reagents:
        - ReagentId: Nutriment
          Quantity: 20

- type: entity
  parent: BaseItem
  id: FoodSnackMREBrownie
  name: brownie
  description: A precisely mixed brownie, made to withstand blunt trauma and harsh conditions. Tastes like shit.
  components:
  - type: Sprite
    sprite: Objects/Consumable/Food/snacks.rsi
    state: mre-brownie
  - type: Item
    heldPrefix: mre-brownie
    size: Tiny
    storedOffset: -1,-1
  - type: Tag
    tags:
      - FoodSnack
  - type: SpawnItemsOnUse
    items:
      - id: FoodPacketMRETrash
      - id: FoodSnackMREBrownieOpen
    sound:
      path: /Audio/Effects/unwrap.ogg

- type: entity
  parent: FoodSnackBase
  id: FoodSnackMREBrownieOpen
  name: brownie
  suffix: MRE
  description: A precisely mixed brownie, made to withstand blunt trauma and harsh conditions. Tastes like shit.
  components:
  - type: FlavorProfile
    flavors:
      - mrebrownie
  - type: Sprite
    state: mre-brownie-open
  - type: Item
    heldPrefix: mre-brownie-open
    storedOffset: -1,-1
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 15
        reagents:
        - ReagentId: Nutriment
          Quantity: 10
        - ReagentId: Theobromine
          Quantity: 3

# Trash

- type: entity
  categories: [ HideSpawnMenu ]
  parent: BaseItem
  id: FoodPacketTrash
  description: This is rubbish.
  abstract: true
  components:
  - type: Sprite
    sprite: Objects/Consumable/Food/snacks.rsi
  - type: Item
    sprite: Objects/Consumable/Food/snacks.rsi
    size: Tiny
  - type: Tag
    tags:
    - Trash
  - type: PhysicalComposition
    materialComposition:
      Steel: 100
  - type: SpaceGarbage
  - type: StaticPrice
    price: 0
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 10
        reagents:
        - ReagentId: ToxinTrash
          Quantity: 5
  - type: Edible
    requiresSpecialDigestion: true

- type: entity
  categories: [ HideSpawnMenu ]
  parent: FoodPacketTrash
  id: FoodPacketMRETrash
  name: MRE wrapper
  description: A general purpose wrapper for a variety of military food goods.
  components:
  - type: Edible
    requiresSpecialDigestion: true
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 25
        reagents:
        - ReagentId: Fiber
          Quantity: 20
  - type: Tag
    tags:
    - ClothMade
    - Trash
  - type: Sprite
    state: mre-wrapper
  - type: Item
    inhandVisuals:
      left:
      - state: trash-inhand-left
        color: "#8B7356"
      right:
      - state: trash-inhand-right
        color: "#8B7356"
