- type: entity
  id: BaseSubdermalImplant
  name: implant
  description: A microscopic chip that's injected under the skin.
  abstract: true
  components:
  - type: SubdermalImplant
  - type: Tag
    tags:
    - SubdermalImplant
    - HideContextMenu

#Traitor implants

- type: entity
  parent: BaseSubdermalImplant
  id: StorageImplant
  name: storage implant
  description: This implant grants hidden storage within a person's body using bluespace technology.
  categories: [ HideSpawnMenu ]
  components:
    - type: StorageImplant
    - type: SubdermalImplant
      implantAction: ActionOpenStorageImplant
      whitelist:
        components:
        - Hands # no use giving a mouse a storage implant, but a monkey is another story...
    - type: Storage
      grid:
      - 0,0,0,1
      - 1,0,1,0
      - 1,2,1,2
      - 2,1,2,2
    - type: ContainerContainer
      containers:
        storagebase: !type:Container
          ents: [ ]
    - type: UserInterface
      interfaces:
        enum.StorageUiKey.Key:
          type: StorageBoundUserInterface

- type: entity
  parent: BaseSubdermalImplant
  id: FreedomImplant
  name: freedom implant
  description: This implant lets the user break out of hand restraints up to three times before ceasing to function anymore.
  categories: [ HideSpawnMenu ]
  components:
  - type: SubdermalImplant
    implantAction: ActionActivateFreedomImplant
    whitelist:
      components:
      - Cuffable # useless if you cant be cuffed
  - type: TriggerOnActivateImplant
  - type: UncuffOnTrigger
    targetUser: true

- type: entity
  parent: BaseSubdermalImplant
  id: EmpImplant
  name: EMP implant
  description: This implant creates an electromagnetic pulse when activated.
  categories: [ HideSpawnMenu ]
  components:
  - type: SubdermalImplant
    implantAction: ActionActivateEmpImplant
  - type: TriggerOnActivateImplant
  - type: EmpOnTrigger
    range: 2.75
    energyConsumption: 50000
    disableDuration: 10

- type: entity
  parent: BaseSubdermalImplant
  id: ScramImplant
  name: scram implant
  description: This implant randomly teleports the user within a large radius when activated.
  categories: [ HideSpawnMenu ]
  components:
  - type: SubdermalImplant
    implantAction: ActionActivateScramImplant
  - type: TriggerOnActivateImplant
  - type: ScramOnTrigger
    targetUser: true

- type: entity
  parent: BaseSubdermalImplant
  id: DnaScramblerImplant
  name: DNA scrambler implant
  description: This implant lets the user randomly change their appearance and name once.
  categories: [ HideSpawnMenu ]
  components:
  - type: SubdermalImplant
    implantAction: ActionActivateDnaScramblerImplant
    whitelist:
      components:
      - HumanoidAppearance # syndies cant turn hamlet into a human
  - type: TriggerOnActivateImplant
  - type: DnaScrambleOnTrigger
    targetUser: true
  - type: DeleteOnTrigger

- type: entity
  categories: [ HideSpawnMenu, Spawner ]
  parent: BaseSubdermalImplant
  id: ChameleonControllerImplant
  name: chameleon controller implant
  description: This implant allows you to instantly change the appearance of all worn chameleon clothing.
  components:
  - type: ChameleonControllerImplant
  - type: SubdermalImplant
    implantAction: ActionChameleonController
  - type: UseDelay
    delay: 1
  - type: UserInterface
    interfaces:
      enum.ChameleonControllerKey.Key:
        type: ChameleonControllerBoundUserInterface

- type: entity
  parent: BaseSubdermalImplant
  id: VoiceMaskImplant
  name: voice mask implant
  description: This implant allows you to change your voice at will.
  categories: [ HideSpawnMenu ]
  components:
  - type: SubdermalImplant
    implantAction: ActionChangeVoiceMaskImplant
  - type: VoiceMask
    overrideIdentity: true
  - type: UserInterface
    interfaces:
      enum.VoiceMaskUIKey.Key:
        type: VoiceMaskBoundUserInterface
  - type: Tag
    tags:
    - SubdermalImplant

- type: entity
  parent: BaseSubdermalImplant
  id: DeathAcidifierImplant
  name: death-acidifier implant
  description: This implant melts the user and their equipment upon death.
  categories: [ HideSpawnMenu ]
  components:
  - type: SubdermalImplant
    permanent: true
    implantAction: ActionActivateDeathAcidifier
  - type: TriggerOnMobstateChange
    mobState:
    - Dead
  - type: TriggerOnActivateImplant
  - type: GibOnTrigger
    targetUser: true
    deleteItems: true
  - type: SpawnOnTrigger
    proto: Acidifier
    predicted: true
  - type: Tag
    tags:
    - SubdermalImplant
    - HideContextMenu
